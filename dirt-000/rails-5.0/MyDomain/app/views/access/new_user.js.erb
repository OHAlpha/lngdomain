console.log('valid_email.js: executing');
<% if @valid %>
    console.log('valid_email.js: vaild unom');
    $('#passwordform').removeClass('hidden');
    $('#id').val('<%= @new_user.id %>');
    $('#salt').val('<%= @new_user.salt %>');
    $('#iterations').val('<%= @new_user.iterations %>');
<% elsif @valid == 'user' %>
    console.log('valid_unom.js: invaild unom');
    $('#unom-message').addClass('bad');
    $('#unom-message').text('user name is unavailable');
    window.setTimeout(function() {
      $('#unom-message').animate({opacity: 0},{
        duration: 500,
        done: function() {
          $('#unom-message').text('');
          $('#unom-message').css('opacity', 1);
          $('#unom-message').removeClass('bad');
        }
      });
    }, 2500);
<% elsif @valid == 'user' %>
    console.log('valid_email.js: invaild email');
    $('#email-message').addClass('bad');
    $('#email-message').text('email is already in use');
    window.setTimeout(function() {
      $('#email-message').animate({opacity: 0},{
        duration: 500,
        done: function() {
          $('#email-message').text('');
          $('#email-message').css('opacity', 1);
          $('#email-message').removeClass('bad');
        }
      });
    }, 2500);
<% end %>
console.log('valid_email.js: executed');